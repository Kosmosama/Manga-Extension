<div class="filter-container">
    <div class="tags">
        @if (tags().length === 0) {
        <span class="empty">{{ 'tags.empty' | transloco }}</span>
        } @else {
        @for (tag of tags(); track tag.id) {
        <button class="tag-pill" [class.active]="isSelected(tag.id)" (click)="toggle(tag.id)"
            [style.--tag-color]="tag.color || '#666'" [attr.aria-pressed]="isSelected(tag.id)">
            <span class="color-dot" [style.background]="tag.color || '#666'"></span>
            {{ tag.name }}
        </button>
        }
        }
    </div>

    <div class="mode-row">
        <label>
            <input type="radio" name="tagMode" value="AND" (change)="setMode('AND')" [checked]="mode() === 'AND'">
            {{ 'tags.filter.mode.and' | transloco }}
        </label>
        <label>
            <input type="radio" name="tagMode" value="OR" (change)="setMode('OR')" [checked]="mode() === 'OR'">
            {{ 'tags.filter.mode.or' | transloco }}
        </label>
        <button class="clear-btn" type="button" (click)="clear()" [disabled]="selectedIds().length === 0">
            {{ 'tags.filter.clear' | transloco }}
        </button>
    </div>
</div>